<nav class="nav">
  <!-- BRAND -->
  <a class="brand" href="/" aria-label="Vinbot forside">
    <span class="brand-logo">
      <img src="/assets/vinbot-logo.png" alt="Vinbot logo" />
    </span>
    <h1>Vinbot</h1>
  </a>

  <!-- BURGER (vises kun på mobil) -->
  <button class="nav-toggle" aria-expanded="false" aria-controls="mainMenu" aria-label="Åbn menu">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <rect x="3" y="6" width="18" height="2" rx="1"></rect>
      <rect x="3" y="11" width="18" height="2" rx="1"></rect>
      <rect x="3" y="16" width="18" height="2" rx="1"></rect>
    </svg>
  </button>

  <!-- MENU -->
  <ul id="mainMenu" class="main-nav">
    <li><a href="/">Søg</a></li>
    <li><a href="/pages/vin-til/">Vin til Mad</a></li>
    <li><a href="/pages/druer/">Druer</a></li>
    <li><a href="/pages/anbefalinger/">Anbefalinger</a></li>
    <li><a href="/pages/blog/">Blog</a></li>
  </ul>
</nav>

<script>
  // === Init burger menu ===
  document.addEventListener("DOMContentLoaded", () => {
    const nav = document.querySelector(".nav");
    const btn = document.querySelector(".nav-toggle");
    const menu = document.getElementById("mainMenu");

    if (nav && btn && menu) {
      const close = () => {
        nav.classList.remove("nav--open");
        btn.setAttribute("aria-expanded", "false");
      };
      const toggle = () => {
        const open = !nav.classList.contains("nav--open");
        nav.classList.toggle("nav--open", open);
        btn.setAttribute("aria-expanded", String(open));
      };

      btn.addEventListener("click", toggle);

      // Luk når man klikker et link
      menu.addEventListener("click", (e) => {
        if (e.target.matches("a")) close();
      });

      // Luk ved klik udenfor menu
      document.addEventListener("click", (e) => {
        if (!nav.contains(e.target)) close();
      });

      // Luk ved Escape
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") close();
      });
    }
  });
</script>
